import{_ as i,c as e,o as a,ae as o}from"./chunks/framework.oZIXsALx.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"collect/performance/performance.md","filePath":"collect/performance/performance.md"}'),t={name:"collect/performance/performance.md"};function r(n,l,c,s,d,h){return a(),e("div",null,[...l[0]||(l[0]=[o('<h2 id="提问" tabindex="-1">提问 <a class="header-anchor" href="#提问" aria-label="Permalink to &quot;提问&quot;">​</a></h2><ol><li>遇到了什么性能问题</li><li>围绕什么样的性能指标</li><li>采取了哪些性能优化手段</li><li>取得了什么样的结果</li></ol><h2 id="页面打开缓慢" tabindex="-1">页面打开缓慢 <a class="header-anchor" href="#页面打开缓慢" aria-label="Permalink to &quot;页面打开缓慢&quot;">​</a></h2><p>性能监控平台，上报性能数据。</p><p>通过查日志，就能定位平台问题，提示问题出现在前端、后端还是网络层。</p><h2 id="难点1-成体系的性能优化资料严重缺失" tabindex="-1">难点1：成体系的性能优化资料严重缺失 <a class="header-anchor" href="#难点1-成体系的性能优化资料严重缺失" aria-label="Permalink to &quot;难点1：成体系的性能优化资料严重缺失&quot;">​</a></h2><ul><li>缓存请求</li><li>服务端响应优化</li><li>页面解析与处理</li><li>静态资源优化</li></ul><p>需要思考使用这种优化的目的是什么？围绕什么指标做的优化，优化完有什么收益。</p><h2 id="难点2-性能监控预警平台没有开源-需要自己开发" tabindex="-1">难点2：性能监控预警平台没有开源，需要自己开发 <a class="header-anchor" href="#难点2-性能监控预警平台没有开源-需要自己开发" aria-label="Permalink to &quot;难点2：性能监控预警平台没有开源，需要自己开发&quot;">​</a></h2><ul><li>如何与公司现有前端性能基建对接，性能平台上包含哪些东西？</li><li>需要对哪些内容做预警，应该设定什么样的预警策略？</li></ul><h2 id="难点3-实践中的坑-别人不会公开分享" tabindex="-1">难点3：实践中的坑，别人不会公开分享 <a class="header-anchor" href="#难点3-实践中的坑-别人不会公开分享" aria-label="Permalink to &quot;难点3：实践中的坑，别人不会公开分享&quot;">​</a></h2><ol><li>前端指标的制定、采集和上报</li><li>比如说，有一个搜索页面，用户在页面还没加载完的时候发起了搜索，采集到的首屏时间比实际的长很多</li><li>如何处理异常数据？上报策略怎么制定？</li></ol><h2 id="难点4-性能优化立项沟通" tabindex="-1">难点4：性能优化立项沟通 <a class="header-anchor" href="#难点4-性能优化立项沟通" aria-label="Permalink to &quot;难点4：性能优化立项沟通&quot;">​</a></h2><ul><li>性能优化立项沟通是个难题，如何从业务角度思考性能优化的价值，并说明业务去发起这个项目。</li><li>立项的正推和反推 <ul><li>正推：性能线索 -&gt; 性能问题 -&gt; 性能优化方案 -&gt; 性能收益。</li><li>反推：预估需要的性能收益 -&gt; 性能优化方案 -&gt; 性能问题 -&gt; 回溯性能线索。</li></ul></li></ul><h2 id="学习方向" tabindex="-1">学习方向 <a class="header-anchor" href="#学习方向" aria-label="Permalink to &quot;学习方向&quot;">​</a></h2><ul><li>前端性能优化方法论 <ul><li>性能优化整个体系是怎样的</li><li>在页面加载过程中有哪些性能瓶颈点</li><li>如何通过业务收益计算，说明老板和同事发起一个性能项目</li></ul></li><li>指标采集上报及优化手段 <ul><li>优化实战过程中，如何确定性能指标</li><li>如何采集上报，尤其是对首屏时间的度量是业界的难题</li><li>为什么要使用 MutationObserver 这种方法做采集</li><li>为什么要采集所有图片的加载时间</li></ul></li><li>性能问题诊断、优化手段、预警 <ul><li>如何根据性能问题平台，结合一些检查清单（如全量 VS 增量、同步 VS 异步、实时 VS 缓存、原片 VS 压缩）来诊断中性能问题。</li><li>如何预警</li></ul></li><li>Hybid 下的进阶优化 <ul><li>App 端的性能优化难度会更大</li><li>跨 APP 和 H5 之间，如果不了解 Hybid 的知识，优化收益会非常有限，如 webview 的优化</li></ul></li><li>一线大厂性能优化体系演进 <ul><li>腾讯的首屏方案和美团的首屏方案各有哪些优缺点</li><li>小程序环境中怎么设定性能指标，如何与 H5 性能体系对接</li><li>在 ReactNative 环境中如何优化渲染性能</li></ul></li></ul><p>浏览器原生提供一个 <code>performance</code> API，可以让我们获取当前页面性能相关信息。</p><p>我们可以在控制台中打印出来看一下：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(performance);</span></span></code></pre></div><ul><li><code>performance.navigation</code>: 表示当前浏览上下文的 <code>navigation</code> 类型，比如页面是加载还是刷新，有多少次重定向等。</li><li><code>performance.timing</code>: 页面加载的性能信息。</li><li><code>performance.memory</code>: 内存使用情况。</li><li><code>performance.timeOrigin</code>: 性能测试开始前的时间戳。</li></ul>',20)])])}const m=i(t,[["render",r]]);export{u as __pageData,m as default};
