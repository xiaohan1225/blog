import{_ as s,c as a,o as t,ae as e}from"./chunks/framework.z0sZ1NT9.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"collect/develop/git.md","filePath":"collect/develop/git.md"}'),n={name:"collect/develop/git.md"};function h(l,i,p,o,k,r){return t(),a("div",null,i[0]||(i[0]=[e(`<h2 id="如何生成-ssh-密钥" tabindex="-1">如何生成 ssh 密钥 <a class="header-anchor" href="#如何生成-ssh-密钥" aria-label="Permalink to &quot;如何生成 ssh 密钥&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;email@xxx.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> id_rsa.pub</span></span></code></pre></div><h2 id="下载-git" tabindex="-1">下载 git <a class="header-anchor" href="#下载-git" aria-label="Permalink to &quot;下载 git&quot;">​</a></h2><ol><li>访问git下载链接：<a href="https://git-scm.com/downloads" target="_blank" rel="noreferrer">https://git-scm.com/downloads</a></li><li>点击<code>macOS</code></li><li>找到<code>Binary installer</code>，点击<code>installer</code>进行下载安装即可</li></ol><h2 id="常用git命令" tabindex="-1">常用git命令 <a class="header-anchor" href="#常用git命令" aria-label="Permalink to &quot;常用git命令&quot;">​</a></h2><h3 id="git-remote" tabindex="-1">git remote <a class="header-anchor" href="#git-remote" aria-label="Permalink to &quot;git remote&quot;">​</a></h3><ul><li><code>git remote</code>：此命令列出本地仓库关联的所有远程仓库的名称。</li><li><code>git remote -v</code>：此选项显示所有远程仓库的 URL，以及它们对应的名称。</li><li><code>git remote add &lt;name&gt; &lt;url&gt;</code>：该子命令向本地仓库添加一个新的远程仓库。<code>&lt;name&gt;</code> 是您为远程仓库选择的自定义名称，<code>&lt;url&gt;</code> 是远程仓库的 URL。</li><li><code>git remote rename &lt;old-name&gt; &lt;new-name&gt;</code>：该子命令重命名现有的远程仓库。<code>&lt;old-name&gt;</code> 是当前的远程仓库名称，<code>&lt;new-name&gt;</code> 是您要为其指定的新名称。</li><li><code>git remote remove &lt;name&gt;</code>：该子命令取消本地仓库与远程仓库之间的关联。<code>&lt;name&gt;</code> 是要删除的远程仓库的名称。</li><li><code>git remote set-url &lt;name&gt; &lt;new-url&gt;</code>：该子命令更改现有远程仓库的 URL。<code>&lt;name&gt;</code> 是远程仓库的名称，<code>&lt;new-url&gt;</code> 是要指定的新 URL。</li></ul><h2 id="git-commit" tabindex="-1">git commit <a class="header-anchor" href="#git-commit" aria-label="Permalink to &quot;git commit&quot;">​</a></h2><p>如何修改最近一次的commit信息: git commit --amend</p><ol><li>如果只需要追加修改，而不修改上次提交信息: git commit --amend --no-edit</li><li>如果只想修改上次提交信息，而不是追加修改: git commit --amend --only -m &quot;new message&quot;</li></ol><h2 id="git-rebase" tabindex="-1">git rebase <a class="header-anchor" href="#git-rebase" aria-label="Permalink to &quot;git rebase&quot;">​</a></h2><p>git rebase -i ba90dc7ff4ab54f9bbb2ca89ddea031fa735c6d2 git rebase解决冲突：</p><ol><li>git checkout branch_a git rebase master</li><li>手动解决冲突，然后执行git add 或者git rm文件，然后再执行 git rebase --continue 继续变基，当然，也可以直接git rebase --skip跳过这个commit，或者使用git rebase --abort放弃rebase。</li><li>修改好:wq保存即可 批量rebase：</li><li>git rebase -i ba90dc7ff4ab54f9bbb2ca89ddea031fa735c6d2</li><li>:%s/pick /f /g (:%s/old/new/g 将当前行的所有字符串old替换为new)</li><li>Ctrl + b 往上滚动一屏幕 找到第一个commit 改成s</li></ol><h2 id="git注意点" tabindex="-1">git注意点 <a class="header-anchor" href="#git注意点" aria-label="Permalink to &quot;git注意点&quot;">​</a></h2><ul><li>有时即使你本地代码什么都没改，但别人可能把他代码同步到了远程分支，导致远程代码和你本地代码不一致会造成有冲突，git pull拉下来会有很多文件需要commit，可用git reset --hard origin/分支名和远程代码保持同步 git</li></ul><h2 id="修改远程分支url" tabindex="-1">修改远程分支url <a class="header-anchor" href="#修改远程分支url" aria-label="Permalink to &quot;修改远程分支url&quot;">​</a></h2><p>git remote set-url origin <a href="mailto:git@github.com" target="_blank" rel="noreferrer">git@github.com</a>:username/repo.git</p><h2 id="删除远程分支" tabindex="-1">删除远程分支 <a class="header-anchor" href="#删除远程分支" aria-label="Permalink to &quot;删除远程分支&quot;">​</a></h2><p>git push --delete origin branch-name</p><h2 id="配置git用户名和邮箱" tabindex="-1">配置git用户名和邮箱 <a class="header-anchor" href="#配置git用户名和邮箱" aria-label="Permalink to &quot;配置git用户名和邮箱&quot;">​</a></h2><p>全局配置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.email</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx.com</span></span></code></pre></div><p>本地配置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.email</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx.com</span></span></code></pre></div><h2 id="git常见问题" tabindex="-1">git常见问题 <a class="header-anchor" href="#git常见问题" aria-label="Permalink to &quot;git常见问题&quot;">​</a></h2><h3 id="_1-github-push报错" tabindex="-1">1.github push报错 <a class="header-anchor" href="#_1-github-push报错" aria-label="Permalink to &quot;1.github push报错&quot;">​</a></h3><p>在推送代码给<code>github</code>仓库的时候，报错：<code>ssh: connect to host github.com port 22: Connection timed out</code>；</p><p>解决方案如下：</p><p>$ ssh -T <a href="mailto:git@github.com" target="_blank" rel="noreferrer">git@github.com</a> ssh: connect to host github.com port 22: Connection timed out</p><p>$ # but this might work $ ssh -T -p 443 <a href="mailto:git@ssh.github.com" target="_blank" rel="noreferrer">git@ssh.github.com</a> Hi xxxx! You&#39;ve successfully authenticated, but GitHub does not provide shell access. $ # Override SSH settings $ vim ~/.ssh/config</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Add section below to it</span></span>
<span class="line"><span>Host github.com</span></span>
<span class="line"><span>  Hostname ssh.github.com</span></span>
<span class="line"><span>  Port 443</span></span></code></pre></div><p>$ ssh -T <a href="mailto:git@github.com" target="_blank" rel="noreferrer">git@github.com</a> Hi xxxxx! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</p><p>如果用了上述方式还是报错，则继续往下尝试：</p><p>先使用 <code>ssh -vT git@github.com</code> 看看情况，得到如下结果：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OpenSSH_9.6p1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OpenSSL</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.2.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Jan</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2024</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Reading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /c/Users/15940/.ssh/config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /c/Users/15940/.ssh/config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Applying</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> options</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Reading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/ssh_config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh.github.com</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [::1] port 443.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ::1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 443:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> refused</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh.github.com</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [127.0.0.1] port 443.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">debug1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 127.0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 443:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> refused</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh.github.com</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 443:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> refused</span></span></code></pre></div><p>原因是系统把 <a href="http://ssh.github.com" target="_blank" rel="noreferrer">http://ssh.github.com</a> 解析成了 127.0.0.1/::1（本地回环地址），而不是 GitHub 服务器的真实 IP</p><p>以管理员身份打开 <code>PowerShell</code>，使用 <code>notepad C:\\Windows\\System32\\drivers\\etc\\hosts</code> 命令修改 <code>hosts</code> 文件：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20.205.243.166</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20.205.243.168</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    api.github.com</span></span></code></pre></div><p>再将.ssh\\config改为:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  HostName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 22</span></span></code></pre></div><p>然后就可以了。</p><h3 id="_2-github中contribution-activity不展示commit相关的信息" tabindex="-1">2.<code>Github</code>中<code>Contribution activity</code>不展示<code>commit</code>相关的信息 <a class="header-anchor" href="#_2-github中contribution-activity不展示commit相关的信息" aria-label="Permalink to &quot;2.\`Github\`中\`Contribution activity\`不展示\`commit\`相关的信息&quot;">​</a></h3><p>可能是git配置的邮箱登录<code>github</code>的邮箱不一致导致的，这时候需要使用<code>git config --local user.email xxx.com</code> 配置下。</p>`,43)]))}const c=s(n,[["render",h]]);export{g as __pageData,c as default};
