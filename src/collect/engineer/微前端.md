## 说说微前端架构整体演进过程和架构

项目痛点：
1. 项目代码量非常大，巨石项目
2. 不同技术栈维护成本高
3. 复用层

解决方案：
1. iframe
2. single-spa、qiankun，不同子项目子应用接入到统一平台
3. 微前端体系设计

## iframe 传统嵌入式方式

### 背景
早期的微前端架构是通过 `iframe` 来实现的，其本质上就是在一个页面内嵌入另一个网页，从而实现多个应用在同一个网页展示的效果。

## 使用场景
需要将外部应用嵌入到当前页面，比如在企业级系统中，可能需要将不同业务模块嵌入到同一个页面内，实现功能的“整合”。

## 优点
1. **独立性**：每个 `iframe` 都是一个独立的页面，有自己生命周期和上下文，可以独立运行，独立开发，独立部署，互不干扰。
2. **实现简单**：只需要通过 `iframe` 标签即可实现，无需复杂的配置和代码。

## 缺点
1. **性能问题**：`iframe` 性能开销大，多个页面嵌套时，加载很慢。
2. **难以通信和状态共享**：`iframe` 是独立的页面，互相隔离，导致应用间的通信和状态共享变得困难。
3. **跨域问题**：`iframe` 和父页面之间可能存在跨域问题，需要额外处理。

## single-spa

### 背景
随着单页面应用（SPA）的发展流行，微前端(`micro frontends`)的概念逐渐被提出，`single-spa` 是一个用于微前端架构的 JavaScript 库，它提供了一种统一的方式来管理和协调多个独立应用。

### 使用场景
`single-spa` 提供了一个加载和管理多个子应用的机制，这些子应用可以是不同的框架和库，比如 React、Vue、Angular 等。每个应用都可以独立开发、部署和更新，而不会影响到其他应用。

### 优点
1. **框架无关性**：支持多种前端框架，包括 React、Vue、Angular 等。
2. **高效加载**：通过路由和生命周期管理，在合适的时机加载和卸载子应用，提高性能。
3. **应用间隔离**: 子应用之间相互隔离，互不干扰。

### 缺点
1. **配置复杂**：需要配置路由和生命周期管理，对于新手来说可能比较复杂。
2. **性能问题**：由于各个应用是独立的，应用间的资源可能会重复加载，无法服用，增加内存和网络请求开销。

## qiankun

### 背景

`qiankun` 是一个基于 `single-spa` 的微前端框架，它提供了一种简单易用的方式来管理和协调多个子应用。`qiankun` 的目标是让开发者能够轻松地构建一个由多个独立应用组成的大型应用。

### 使用场景

`qiankun` 是一个很强大的微前端框架，能够轻松实现子应用的注册、加载、卸载等操作，以及应用间的通信和状态共享。

### 优点
- **强大的生命周期管理**：在应用的注册、加载、卸载等过程中可以通过生命周期定义逻辑。
- **动态加载子应用**：支持子应用的动态加载和按需加载，提高了性能。
- **内置的跨框架支持**：支持 React、Vue、Angular 等各种框架。

### 缺点
- **学习曲线**： 虽然它封装了很多便捷功能，但配置和使用仍然需要一定的学习成本。
- **应用间隔离问题**：子应用的隔离仍然需要一定的技术支持，比如避免 CSS 和 JavaScript 的冲突。

