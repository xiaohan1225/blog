## 提问
1. 遇到了什么性能问题
2. 围绕什么样的性能指标
3. 采取了哪些性能优化手段
4. 取得了什么样的结果

## 页面打开缓慢
性能监控平台，上报性能数据。

通过查日志，就能定位平台问题，提示问题出现在前端、后端还是网络层。

## 难点1：成体系的性能优化资料严重缺失
- 缓存请求
- 服务端响应优化
- 页面解析与处理
- 静态资源优化

需要思考使用这种优化的目的是什么？围绕什么指标做的优化，优化完有什么收益。

## 难点2：性能监控预警平台没有开源，需要自己开发



- 如何与公司现有前端性能基建对接，性能平台上包含哪些东西？
- 需要对哪些内容做预警，应该设定什么样的预警策略？

## 难点3：实践中的坑，别人不会公开分享
1. 前端指标的制定、采集和上报
2. 比如说，有一个搜索页面，用户在页面还没加载完的时候发起了搜索，采集到的首屏时间比实际的长很多
3. 如何处理异常数据？上报策略怎么制定？

## 难点4：性能优化立项沟通
- 性能优化立项沟通是个难题，如何从业务角度思考性能优化的价值，并说明业务去发起这个项目。
- 立项的正推和反推
  - 正推：性能线索 -> 性能问题 -> 性能优化方案 -> 性能收益。
  - 反推：预估需要的性能收益 -> 性能优化方案 -> 性能问题 -> 回溯性能线索。

## 学习方向
- 前端性能优化方法论
  - 性能优化整个体系是怎样的
  - 在页面加载过程中有哪些性能瓶颈点
  - 如何通过业务收益计算，说明老板和同事发起一个性能项目
- 指标采集上报及优化手段
  - 优化实战过程中，如何确定性能指标
  - 如何采集上报，尤其是对首屏时间的度量是业界的难题
  - 为什么要使用 MutationObserver 这种方法做采集
  - 为什么要采集所有图片的加载时间
- 性能问题诊断、优化手段、预警
  - 如何根据性能问题平台，结合一些检查清单（如全量 VS 增量、同步 VS 异步、实时 VS 缓存、原片 VS 压缩）来诊断中性能问题。
  - 如何预警
- Hybid 下的进阶优化
  - App 端的性能优化难度会更大
  - 跨 APP 和 H5 之间，如果不了解 Hybid 的知识，优化收益会非常有限，如 webview 的优化
- 一线大厂性能优化体系演进
  - 腾讯的首屏方案和美团的首屏方案各有哪些优缺点
  - 小程序环境中怎么设定性能指标，如何与 H5 性能体系对接
  - 在 ReactNative 环境中如何优化渲染性能


浏览器原生提供一个 `performance` API，可以让我们获取当前页面性能相关信息。

我们可以在控制台中打印出来看一下：
```js
console.log(performance);
```

- `performance.navigation`: 表示当前浏览上下文的 `navigation` 类型，比如页面是加载还是刷新，有多少次重定向等。
- `performance.timing`: 页面加载的性能信息。
- `performance.memory`: 内存使用情况。
- `performance.timeOrigin`: 性能测试开始前的时间戳。