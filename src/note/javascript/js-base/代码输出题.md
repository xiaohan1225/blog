今天来看一道前端面试的代码输出题。

面试官提供了一段代码，要求给出这段代码运行后的输出结果。

```js
const obj = {
  a: 0,
};

obj['1'] = 0;
obj[++obj.a] = obj.a++;
const values = Object.values(obj);
obj[values[1]] = obj.a;
console.log(obj);

```

先分析这道题前，先补充几个知识点。

## 知识点一：对象的常规属性 (properties) 和排序属性 (elements)


## 知识点二：JavaScript 运算符的执行顺序

`JavaScript` 中最常见运算符如下（运算顺序从高到低）：
- 对象属性访问，比如 `obj.a`，`obj['a']`。
- 递增/递减，比如 `a++`(后置递增) 或 `++a`（前置递增）。
- 算术，比如 `a + 1`。
- 比较，包括 `<`(小于)、`>`(大于)、`<=`(小于等于)、`>=`(大于等于)，比如 `a > 3`。
- 相等，包括 `==` 粗略相等， `===`严格相等，`!==` 粗略不等，`!==` 严格不等，比如 `a == 1`。
- 逻辑，也就是与或非，`&`(与)、`|`(或)、`!`(非)，比如 `a && b`。
- 三元，比如 `flag ? '1' : '0'`。
- 赋值，比如 `a = 1`。



单个赋值语句 `LHS = RHS` 的求值顺序：

根据 ECMAScript 规范（ECMA-262, AssignmentExpression evaluation），对于 LeftHandSideExpression = AssignmentExpression：
- Evaluate LeftHandSideExpression → 得到一个 引用（Reference），即“要写入的位置”。
- Evaluate AssignmentExpression（即右侧）→ 得到一个 值（Value）。
- 将值写入该引用。
所以左侧先求值（为了知道写到哪），右侧后求值（为了知道写什么）。
>📌 注意：这里“求值左侧”不是求它的值，而是求它的“位置”（比如属性名、变量名）。对于 obj[++obj.a]，要确定属性名，就必须先执行 ++obj.a。


写个简单例子：

```js
const obj = {
  get a() {
    console.log('a');
    return 'aa';
  },
  get b() {
    console.log('b');
    return 'bb'
  }
}
obj[obj.a] = obj.b;

/**
 * 打印结果：
 * a
 * b
 */
```

- 这里会取 `obj.a` 的值， 取到的值为 `aa`，那程序就知道要往 `obj` 的 `aa` 属性上赋值了。
- 然后再取 `obj.b` 的值，把取到的值 `bb` 赋值给 `obj.aa` 属性。

而如果再加上`递增/递减`运算


## 逐行分析代码执行过程


让我们来逐行解析下这段代码。

首先，我们定义了一个对象 `obj`，它有一个属性 `a`，值为 `0`。

```js
const obj = {
  a: 0,
};
```

接下来，我们给 `obj` 添加了一个属性 `1`，值为 `0`，此时对象中有两个属性，`a` 和 `1`。

```js
obj['1'] = 0;
```

此时 `obj` 的值为：
```json
{
  "1": 0,
  "a": 0,
}
```


JS 对象名只有两种类型，一种是字符创，一种是 `Symbol`，如果你赋值的对象属性不是 `Symbol` 也不是字符串，JS 内部会把它转化为字符串。